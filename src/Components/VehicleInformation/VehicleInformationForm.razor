@using System;
@using System.Collections.Generic;

<MudStack Row="true">
    <MudStack>
        <FormField Label="Model" DropDownOptions=@GetOptions("Model") DropdownValueChanged="ModelSelectedChanged"/>
        <FormField Label="Make" DropDownOptions=@GetMake(ModelSelected)  DropdownValueChanged="MakeSelectedChanged"/>
        <FormField Label="Year" DropDownOptions=@GetOptions("Year") />
    </MudStack>

    <MudStack>
		<FormField Label="Color" DropDownOptions=@GetColor(MakeSelected)/>
        <FormField Label="Type" DropDownOptions=@GetOptions("Type") />
        <FormField Label="Serial" isDropDown="false" />
	</MudStack>
        
</MudStack>


@code {

	public string ModelSelected = "";
	public string MakeSelected = "";

    public List<string> labelList1 { get; set; } = new List<string>() 
    {
        "Model","Make","Year"
    };

    public List<string> labelList2 { get; set; } = new List<string>()
    {
        "Color","Type","Serial"
    };


    public List<string> GetOptions(string option)
    {
        return option switch
        {
            "Model" => new List<string>() { "Honda", "Hyundai", "Nissan" },
            "Year" => new List<string>() { "2018","2019","2020","2021","2022","2023"},
			"Type" => new List<string>() { "Sedan", "SUV", "Truck" },
            _ => new List<string>() { "Options not available" }
        };
    }

    public List<string> GetMake(string model)
    {
       	return model switch
    	{
        	"Honda" => new List<string>() { "Civic", "HRV", "Passport" },
       	 	"Hyundai" => new List<string>() { "Elantra", "Kona", "Palisade", "Sonata", "Tucson" },
        	"Nissan" => new List<string>() { "GTR", "Sentra" },
        	_ => new List<string>() { "Make not supported" }
    	};
    }

    public List<string> GetColor(string make)
    {
        return make switch
        {
			"Civic" => new List<string>() { "Red", "White", "Grey" },
			"HRV" => new List<string>() { "Red", "Blue", "Silver", "Black" },
			"Passport" => new List<string>() { "Red", "Silver", "White", "Black" },
            _ => new List<string>() { "Default color" }
        };
    }

	public void ModelSelectedChanged(string value) => ModelSelected = value;
	public void MakeSelectedChanged(string value) => MakeSelected = value;
}